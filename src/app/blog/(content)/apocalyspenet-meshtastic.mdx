import { SchemaBuilder } from '@/components/Antigravity/SchemaBuilder';
import { InteractiveContainer } from '@/components/Antigravity/InteractiveContainer';
import { QuizEngine } from '@/components/Antigravity/QuizEngine';
import { TechHead2Head } from '@/components/Antigravity/TechHead2Head';
import { ContextCollapse } from '@/components/Antigravity/ContextCollapse';
import Image from 'next/image';
import { FAQSchema } from '@/components/Antigravity/FAQSchema';

export const metadata = {
  title: "ApocalypseNet: Why You Need an Off-Grid AI Mesh",
  description: "When the internet dies, your $50 LoRa radio will be the only thing that works. Here is how to run an LLM on it.",
  openGraph: {
    images: ['/images/blog/meshtastic-thumb.png'],
    tags: ['Meshtastic', 'Off-Grid', 'AI', 'LoRa', 'Survival']
  }
};

<SchemaBuilder 
  article={{
    headline: "ApocalypseNet: Why You Need an Off-Grid AI Mesh",
    description: "When the internet dies, your $50 LoRa radio will be the only thing that works. Here is how to run an LLM on it.",
    image: "https://gaymensfieldguide.com/images/blog/meshtastic-thumb.png",
    datePublished: "2025-10-15",
    author: "Architect"
  }}
  breadcrumbs={[
    { name: "Home", item: "/" },
    { name: "Blog", item: "/blog" },
    { name: "ApocalypseNet", item: "/blog/apocalypse-net-meshtastic" }
  ]}
/>

{/* HEADER */}
<div className="mb-12 border-b border-dashed border-zinc-700 pb-8">
  <h1 className="text-4xl md:text-6xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-neon-green to-emerald-600 mb-4 uppercase glitch-text">
    ApocalypseNet
  </h1>
  <div className="flex items-center gap-4 font-mono text-xs text-zinc-500">
    <span className="bg-zinc-900 px-2 py-1 rounded text-neon-green border border-neon-green/20">SURVIVAL_MOD</span>
    <span>FREQ: 915MHz</span>
    <span>RANGE: 5km+</span>
  </div>

{/* IMAGE PROMPT 1:
[SUBJECT]: A rugged Meshtastic device (Heltec V3) strapped to a tactical backpack, glowing green screen displaying encrypted text
[STYLE]: Nano Banana aesthetic - dark industrial paper texture, neon yellow accents, rain droplets
[ELEMENTS]: Radio waves visualisation, gritty texture
[MOOD]: Survivalist, high-tech, isolation
[FORMAT]: Wide aspect ratio
*/}
<div className="relative w-full aspect-video bg-zinc-900 border border-zinc-800 mb-12 flex items-center justify-center overflow-hidden group">
  <Image src="/images/blog/meshtastic-thumb.png" alt="MESHTASTIC_DEVICE" fill className="object-cover" priority />
</div>
</div>

## The "Scenario"

It’s not zombies. It’s a backhoe hitting a fiber line. Or a solar flare. Or just Rogers/Comcast having a bad day.

Suddenly, your $1,200 iPhone is a brick. You can't text your partner. You can't check the news.

But my $50 Heltec V3 is buzzing. I'm chatting with a neighbor 3 miles away. And—crucially—I'm asking an **Offline AI** how to purify water.

## Enter Meshtastic

Meshtastic is an open-source project that turns cheap LoRa (Long Range) radios into a text-messaging mesh network. No cell towers. No satellites. Just radio waves bouncing from node to node.

<TechHead2Head 
  leftName="Cellular (5G)" 
  rightName="Meshtastic (LoRa)"
  specs={[
    { label: "Infrastructure", leftValue: "Towers (Fragile)", rightValue: "P2P (Resilient)", winner: "right" },
    { label: "Cost", leftValue: "$80/mo", rightValue: "$50 (One time)", winner: "right" },
    { label: "Bandwidth", leftValue: "1 Gbps", rightValue: "0.5 kbps", winner: "left" },
    { label: "Privacy", leftValue: "Tracked", rightValue: "Encrypted", winner: "right" }
  ]} 
/>

## Integration: The AI Agent

Here is where it gets "Cyberpunk." You can bridge your Meshtastic node to a local LLM (like Llama-3-8b running on a Pi).

This creates a **Network Oracle**. Anyone on the mesh can text the "Bot" node, and the Bot replies.

> **User:** /ask How do I treat a burn?
>
> **Oracle (AI):** (Transmitting...) Cool burn with water. Cover loosely. Do not pop blisters. (Over)

It is slow. It is text-only. But when the grid is down, it is magic.

<InteractiveContainer title="SIGNAL_STRENGTH_SIM" type="simulation">
  <div className="p-4 space-y-4">
    <div className="flex justify-between text-xs font-mono text-zinc-400">
       <span>NODE_A (You)</span>
       <span>NODE_B (Oracle)</span>
    </div>
    <div className="relative h-2 bg-zinc-800 rounded">
       {/* Animated packet visual would go here */}
       <div className="absolute top-0 left-0 h-full w-[20%] bg-neon-green blur-sm animate-pulse"></div>
    </div>
    <div className="text-center font-mono text-xs text-neon-green">
       TRANSMISSION_SPEED: 12 Bytes/sec
    </div>
    <p className="text-xs text-zinc-500 italic text-center">
      "Patience is the only bandwidth you have left."
    </p>
  </div>
</InteractiveContainer>

## The "Reddit" Reality Check

I went to r/Meshtastic to see if this is practical. The consensus?

> *"It's a fun hobby until you realize you're the only one in your city with a node. Then it's just a sad pager for yourself."* — u/RadioSilence

> *"I set up a solar repeater on a water tower at night. Illegal? Maybe. But now my coverage is 20 miles."* — u/SolarPunk2025

The network is only as strong as the community. You need to convince your friends to buy these ugly little radios.

## Interactive Training: Are You Ready?

Do you have the mindset for low-bandwidth survival?

<QuizEngine 
  title="SURVIVAL_COMMS_TEST"
  type="game"
  questions={[
    {
      id: 1,
      text: "You need to send a message 5 miles away. There is a hill in between. What do you do?",
      options: [
        { label: "Increase power to 100%", isCorrect: false },
        { label: "Place a repeater on the hill", isCorrect: true, feedback: "Line of Sight is king. Power doesn't turn corners." }
      ]
    },
    {
      id: 2,
      text: "Your AI Oracle is hallucinating medical advice. What is the protocol?",
      options: [
        { label: "Trust the machine", isCorrect: false },
        { label: "Verify with static offline Wikipedia dump", isCorrect: true, feedback: "Always have a Kiwix (Offline Wikipedia) backup." }
      ]
    }
  ]}
/>


<ContextCollapse />

## Conclusion

Building an ApocalypseNet isn't about fear. It's about **autonomy**. It's about realizing that "The Cloud" is just someone else's computer, and "The Network" is just someone else's cable.


<FAQSchema faqs={[
  { 
    question: "Can I really put a repeater on a water tower?", 
    answer: "Legally? Probably not. Effectively? It's how 40% of the network exists. Guerrilla 'Solar Punks' are expanding coverage daily. [Source: r/Meshtastic](https://reddit.com/r/meshtastic)" 
  },
  { 
    question: "Does it work without a phone?", 
    answer: "Yes. The nodes store messages. You can use them as 'Unphones' for kids to keep them offline but connected. [Source: Meshtastic Docs](https://meshtastic.org)" 
  }
]} />

Own your comms. Own your intelligence.
